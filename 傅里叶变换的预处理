function[t,omg,FT,IFT] = prefourier(Trg,N,OMGrg,K)
T=Trg(2)-Trg(1);

t=linspace(Trg(1),Trg(2)-T/N,N);

OMG=OMGrg(2)-OMGrg(1);

omg=linspace(OMGrg(1),OMGrg(2)-OMG/K,K);

FT=T/N*exp(-j*kron(omg,t.'));

IFT=OMG/2/pi/K*exp(j*kron(t,omg.'));
end

%这个部分用于检测函数 是一个理想低通滤波器
[t,omg,FT,IFT] = prefourier([-3,3],1000,[-15,15],1000);
omgc=10;
t0=1;
H_abs=((omg<omgc)&(omg>-omgc));
H=H_abs.*exp(i*pi/2);
%H=H_abs.*exp(0);
h=IFT*H';
figure(1);
plot(t,abs(h));
figure(2);
plot(H_abs,'r');


